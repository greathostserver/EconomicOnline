<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  <style>
    :root {
      --bg:#0f1115; --panel:#151823; --text:#e7edf2; --muted:#9aa7b0;
      --accent:#4cc9f0; --up:#1db954; --down:#ff3b30; --border:#222636;
      --card:#12141c; --shadow:0 8px 18px rgba(0,0,0,0.35);
      --field-w:220px;
      --dropdown-bg: #1a1e2a;
      --dropdown-text: #e7edf2;
      --home-btn: #1db954;
      --tools-btn: #1f7ae0;
      --similar-btn: #9b59b6;
      --theme-refresh-btn: #FF01D5;
    }
    [data-theme="light"] {
      --bg:#f6f7fb; --panel:#fff; --text:#1a2230; --muted:#5c6b7c;
      --accent:#1f7ae0; --up:#1ea865; --down:#c0392b; --border:#dfe4ea;
      --card:#fff; --shadow:0 8px 18px rgba(0,0,0,0.08);
      --dropdown-bg: #fff;
      --dropdown-text: #1a2230;
      --home-btn: #1ea865;
      --tools-btn: #1f7ae0;
      --similar-btn: #8e44ad;
      --theme-refresh-btn: #FF01D5;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin:0; 
      background:var(--bg); 
      color:var(--text); 
      font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Naskh Arabic",Tahoma,Arial;
      font-size: 14px;
      line-height: 1.5;
      transition: all 0.3s ease;
    }

    body[dir="ltr"] {
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    body[lang="ar"] {
      font-family: "Noto Naskh Arabic", "Segoe UI", Tahoma, Arial, sans-serif;
    }

    body[lang="ru"] {
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    body[lang="en"] {
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    header {
      position:sticky; 
      top:0; 
      z-index:50; 
      background: color-mix(in oklab, var(--bg) 85%, transparent 15%); 
      border-bottom:1px solid var(--border); 
      backdrop-filter:saturate(1.2) blur(6px);
    }

    .wrap {
      max-width:1000px; 
      margin:0 auto; 
      padding:12px 16px;
      width: 100%;
    }

    .toolbar {
      display:flex; 
      align-items:center; 
      gap:10px; 
      flex-wrap:wrap;
    }

    .toolbar .spacer {
      flex:1;
    }

    .toolbar button {
      background:var(--panel); 
      color:var(--text); 
      border:1px solid var(--border); 
      border-radius:10px; 
      padding:8px 12px; 
      cursor:pointer;
      font-size: 13px;
      white-space: nowrap;
    }

    #toggleTheme, #refreshAll {
      background: var(--theme-refresh-btn) !important;
      color: white !important;
      border: none !important;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      white-space: nowrap;
      transition: opacity 0.2s;
    }

    #toggleTheme:hover, #refreshAll:hover {
      opacity: 0.9;
    }

    .home-btn {
      background: var(--home-btn) !important;
      color: white !important;
      border: none !important;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      white-space: nowrap;
      text-decoration: none;
      display: inline-block;
      transition: opacity 0.2s;
    }

    .tools-btn {
      background: var(--tools-btn) !important;
      color: white !important;
      border: none !important;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      white-space: nowrap;
      text-decoration: none;
      display: inline-block;
      transition: opacity 0.2s;
    }

    .similar-btn {
      background: var(--similar-btn) !important;
      color: white !important;
      border: none !important;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      white-space: nowrap;
      text-decoration: none;
      display: inline-block;
      transition: opacity 0.2s;
    }

    .home-btn:hover, .tools-btn:hover, .similar-btn:hover {
      opacity: 0.9;
    }

    .card {
      background:var(--card); 
      border:1px solid var(--border); 
      border-radius:12px; 
      box-shadow:var(--shadow); 
      overflow:hidden; 
      margin:12px 0;
    }

    .card h3 {
      margin:0; 
      padding:12px 16px; 
      border-bottom:1px solid var(--border); 
      font-size:16px;
    }

    .card .content {
      padding:12px 16px;
    }

    .status {
      font-size:13px; 
      color:var(--muted); 
      margin-top:6px;
    }

    .grid-2 {
      display:grid; 
      gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    .info-box {
      border:1px solid var(--border); 
      border-radius:10px; 
      padding:12px; 
      background:var(--panel);
      min-width: 0;
    }

    .delta-up {
      color:var(--up); 
      font-weight:600;
    }

    .delta-down {
      color:var(--down); 
      font-weight:600;
    }

    .field {
      display: block;
      width: 100%;
      max-width: var(--field-w);
      margin-top: 6px;
    }

    .choices {
      width: 100%;
      max-width: var(--field-w);
    }

    .choices__inner {
      background:var(--panel); 
      border:1px solid var(--border); 
      border-radius:10px; 
      color:var(--text); 
      padding:8px;
      min-height: 40px;
    }

    .choices__list--dropdown,
    .choices__list[aria-expanded] {
      background: var(--dropdown-bg) !important;
      border: 1px solid var(--border) !important;
      border-radius: 10px !important;
      box-shadow: var(--shadow) !important;
      color: var(--dropdown-text) !important;
    }

    .choices__list--dropdown .choices__item,
    .choices__list[aria-expanded] .choices__item {
      color: var(--dropdown-text) !important;
      background: var(--dropdown-bg) !important;
    }

    .choices__list--dropdown .choices__item--selectable,
    .choices__list[aria-expanded] .choices__item--selectable {
      color: var(--dropdown-text) !important;
      background: var(--dropdown-bg) !important;
    }

    .choices__list--dropdown .choices__item--selectable.is-highlighted,
    .choices__list[aria-expanded] .choices__item--selectable.is-highlighted {
      background: var(--accent) !important;
      color: white !important;
    }

    .choice-with-icon {
      display:flex; 
      align-items:center; 
      gap:8px; 
      padding:8px 10px;
    }

    .choice-with-icon img {
      width:20px; 
      height:20px; 
      border-radius:50%; 
      object-fit:contain;
    }

    .choice-with-icon .label {
      color: var(--dropdown-text) !important; 
      font-weight:600;
    }

    .choices__list--dropdown .choices__item--selectable.is-highlighted .label,
    .choices__list[aria-expanded] .choices__item--selectable.is-highlighted .label {
      color: white !important;
    }

    .selected-with-icon {
      display:inline-flex; 
      align-items:center; 
      gap:8px;
    }

    .selected-with-icon img {
      width:18px; 
      height:18px; 
      border-radius:50%; 
      object-fit:contain;
    }

    .selected-with-icon .label {
      color:var(--text); 
      font-weight:600;
    }

    #quoteSelect + .choices .choices__list--dropdown .choices__item span,
    #quoteSelect + .choices .choices__list--dropdown .choice-with-icon .label {
      color: var(--dropdown-text) !important; 
      font-weight:600;
    }

    .coin-name {
      color:#ffd166; 
      font-weight:700; 
      letter-spacing:0.2px;
    }

    [data-theme="light"] .coin-name {
      color:#1a2230;
    }

    .badge {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 11px;
      margin-right: 6px;
    }

    .badge.up { 
      background: var(--up); 
      color: white; 
    }

    .badge.down { 
      background: var(--down); 
      color: white; 
    }

    .badge.neutral { 
      background: var(--muted); 
      color: white; 
    }

    .input-field {
      display: block;
      width: 100%;
      max-width: var(--field-w);
      background:var(--panel); 
      border:1px solid var(--border); 
      border-radius:10px; 
      color:var(--text); 
      padding:10px 12px;
      font-family: inherit;
      font-size: 14px;
      margin-top: 6px;
      transition: border-color 0.2s;
    }

    .input-field:focus {
      outline: none;
      border-color: var(--accent);
    }

    .input-field::placeholder {
      color: var(--muted);
    }

    button.primary {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      cursor: pointer;
      font-weight: 600;
      transition: opacity 0.2s;
      width: 100%;
      font-size: 14px;
      max-width: var(--field-w);
    }

    button.primary:hover {
      opacity: 0.9;
    }

    button.danger {
      background: var(--down);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      cursor: pointer;
      font-weight: 600;
      transition: opacity 0.2s;
      width: 100%;
      font-size: 14px;
      max-width: var(--field-w);
    }

    button.danger:hover {
      opacity: 0.9;
    }

    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† - Ø¨Ø²Ø±Ú¯ØªØ± */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent);
      color: white;
      padding: 20px 24px; /* Ø§ÙØ²Ø§ÛŒØ´ padding */
      border-radius: 12px; /* Ø§ÙØ²Ø§ÛŒØ´ Ø´Ø¹Ø§Ø¹ */
      z-index: 10000; /* Ø§ÙØ²Ø§ÛŒØ´ z-index Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ù„Ø§ÛŒ Ù‡Ù…Ù‡ */
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      animation: slideIn 0.4s ease;
      max-width: 450px; /* Ø§ÙØ²Ø§ÛŒØ´ Ø¹Ø±Ø¶ */
      font-size: 16px; /* Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø§ÛŒØ² ÙÙˆÙ†Øª */
      line-height: 1.5;
      font-weight: 500;
      border-left: 6px solid rgba(255,255,255,0.3);
    }

    .notification.success {
      background: var(--up) !important;
      border-left: 6px solid rgba(255,255,255,0.5);
    }

    .notification.error {
      background: var(--down) !important;
      border-left: 6px solid rgba(255,255,255,0.5);
    }

    .notification.warning {
      background: #ffa726 !important;
      color: #333 !important;
      border-left: 6px solid rgba(0,0,0,0.2);
    }

    .notification.info {
      background: var(--accent) !important;
    }

    .notification .notification-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .notification .notification-content {
      font-size: 15px;
      line-height: 1.6;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translateX(0);
      }
      to {
        opacity: 0;
        transform: translateX(100%);
      }
    }

    .popular-crypto-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }

    .popular-crypto-item {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      transition: transform 0.2s;
      min-width: 0;
      overflow: hidden;
    }

    .popular-crypto-item:hover {
      transform: translateY(-2px);
    }

    .alert-item {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .alert-item.triggered {
      border-left: 4px solid var(--up);
    }

    .alert-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      gap: 8px;
    }

    .alert-actions button {
      flex: 1;
      padding: 6px;
      font-size: 12px;
    }

    .calculator-result {
      background: var(--bg);
      border-radius: 8px;
      padding: 12px;
      margin-top: 10px;
      text-align: center;
      font-size: 16px;
      font-weight: bold;
      border: 1px solid var(--border);
      word-break: break-word;
    }

    .field-group {
      margin-bottom: 12px;
    }

    .field-group label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
    }

    .button-group {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    .button-group button {
      flex: 1;
    }

    .choices__list--dropdown .choices__item,
    .choices__list[aria-expanded] .choices__item {
      word-break: break-word;
      white-space: normal;
      line-height: 1.3;
    }

    .choice-with-icon .label,
    .selected-with-icon .label {
      word-break: break-word;
      white-space: normal;
      line-height: 1.3;
    }

    body[lang="ru"] .toolbar button,
    body[lang="ru"] .home-btn,
    body[lang="ru"] .tools-btn,
    body[lang="ru"] .similar-btn {
      letter-spacing: -0.2px;
    }

    body[lang="ar"] .toolbar button,
    body[lang="ar"] .home-btn,
    body[lang="ar"] .tools-btn,
    body[lang="ar"] .similar-btn {
      letter-spacing: 0;
    }

    .vpn-warning {
      background: var(--down);
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      margin: 12px 0;
      font-size: 13px;
      line-height: 1.5;
      border-left: 4px solid var(--accent);
    }

    .vpn-warning a {
      color: white;
      text-decoration: underline;
      font-weight: 600;
    }

    .vpn-warning a:hover {
      opacity: 0.9;
    }

    [data-theme="light"] .vpn-warning {
      background: #ffebee;
      color: #c62828;
      border-left: 4px solid #f44336;
    }

    [data-theme="light"] .vpn-warning a {
      color: #c62828;
    }

    .toolbar-buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-end;
      min-width: 250px;
    }
    
    .utility-buttons {
      display: flex;
      gap: 8px;
      width: 100%;
      justify-content: flex-end;
      align-items: center;
    }
    
    .color-buttons {
      display: flex;
      gap: 8px;
      width: 100%;
      justify-content: flex-end;
    }
    
    #langSelect.field {
      max-width: 100px !important;
      min-width: 90px;
      font-size: 12px;
    }

    .lang-buttons {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    
    .lang-btn {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 3px 6px;
      cursor: pointer;
      font-size: 11px;
      transition: all 0.2s;
      min-width: 0;
      text-align: center;
      white-space: nowrap;
      flex-shrink: 0;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .lang-btn:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }
    
    .lang-btn.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
      font-weight: 600;
    }
    
    @media (max-width: 1024px) {
      .wrap {
        max-width: 95%;
      }
      
      .popular-crypto-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      }
      
      .lang-btn {
        padding: 3px 5px;
        font-size: 10px;
        height: 26px;
      }
      
      .notification {
        max-width: 400px;
        padding: 18px 20px;
        font-size: 15px;
      }
    }

    @media (max-width: 768px) {
      .wrap {
        padding: 10px 12px;
      }
      
      .toolbar {
        gap: 8px;
      }
      
      .toolbar button,
      .home-btn,
      .tools-btn,
      .similar-btn,
      #toggleTheme,
      #refreshAll {
        padding: 6px 8px;
        font-size: 11px;
        white-space: normal;
        word-break: break-word;
        line-height: 1.3;
        min-height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      
      #title {
        font-size: 16px;
      }
      
      #badge {
        font-size: 10px;
      }
      
      .card h3 {
        padding: 10px 14px;
        font-size: 15px;
      }
      
      .card .content {
        padding: 10px 14px;
      }
      
      .grid-2 {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .popular-crypto-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 8px;
      }
      
      .popular-crypto-item {
        padding: 10px;
      }
      
      .notification {
        left: 15px;
        right: 15px;
        max-width: none;
        top: 15px;
        font-size: 14px;
        padding: 16px 18px;
      }
      
      .notification .notification-title {
        font-size: 16px;
      }
      
      .notification .notification-content {
        font-size: 14px;
      }
      
      .choices__inner {
        padding: 6px;
        min-height: 36px;
        font-size: 11px;
      }
      
      .input-field {
        padding: 8px 10px;
        font-size: 13px;
      }
      
      button.primary, button.danger, .home-btn, .tools-btn, .similar-btn {
        padding: 8px 10px;
        font-size: 12px;
        max-width: none;
      }
      
      .calculator-result {
        font-size: 14px;
        padding: 10px;
      }
      
      .alert-item {
        padding: 8px;
        font-size: 12px;
      }
      
      .alert-actions button {
        font-size: 11px;
        padding: 5px;
      }
      
      .field, .choices, .input-field, button.primary, button.danger, .home-btn, .tools-btn, .similar-btn {
        max-width: 100% !important;
      }
      
      #badge {
        display: none;
      }
      
      .choices__list--dropdown .choices__item,
      .choices__list[aria-expanded] .choices__item {
        font-size: 11px;
        white-space: normal;
        word-break: break-word;
        line-height: 1.3;
        padding: 8px 10px;
      }
      
      #langSelect.field {
        max-width: 90px !important;
        font-size: 11px;
      }
      
      .choices {
        max-width: 100% !important;
      }
      
      .toolbar-buttons {
        min-width: auto;
        width: 100%;
        align-items: stretch;
      }
      
      .utility-buttons, .color-buttons {
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .vpn-warning {
        padding: 10px 12px;
        font-size: 12px;
        margin: 8px 0;
      }
      
      .lang-buttons {
        gap: 3px;
        margin-bottom: 6px;
      }
      
      .lang-btn {
        padding: 2px 4px;
        font-size: 9px;
        height: 24px;
        min-width: 40px;
        flex: 1;
        max-width: 60px;
      }
      
      #toggleTheme, #refreshAll {
        font-size: 10px;
        padding: 5px 8px;
        min-width: 70px;
      }
    }

    @media (max-width: 600px) {
      .utility-buttons {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .color-buttons {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .toolbar button,
      .home-btn,
      .tools-btn,
      .similar-btn,
      #toggleTheme,
      #refreshAll {
        flex: 1;
        min-width: calc(33.333% - 8px);
        font-size: 10px;
        padding: 5px 6px;
      }
      
      #langSelect.field {
        max-width: 80px !important;
        font-size: 10px;
      }
      
      .choices__inner {
        font-size: 10px;
      }
      
      .choices__list--dropdown .choices__item,
      .choices__list[aria-expanded] .choices__item {
        font-size: 10px;
        padding: 6px 8px;
      }
      
      body[lang="ru"] .toolbar button,
      body[lang="ru"] .home-btn,
      body[lang="ru"] .tools-btn,
      body[lang="ru"] .similar-btn,
      body[lang="ar"] .toolbar button,
      body[lang="ar"] .home-btn,
      body[lang="ar"] .tools-btn,
      body[lang="ar"] .similar-btn {
        font-size: 9px;
        padding: 4px 5px;
      }
      
      .notification {
        padding: 14px 16px;
        font-size: 13px;
        border-radius: 10px;
      }
      
      .notification .notification-title {
        font-size: 15px;
      }
      
      .notification .notification-content {
        font-size: 13px;
      }
      
      .lang-buttons {
        gap: 2px;
      }
      
      .lang-btn {
        min-width: 35px;
        padding: 2px 3px;
        font-size: 8px;
        height: 22px;
        flex: 0 0 auto;
      }
      
      #toggleTheme, #refreshAll {
        min-width: 60px;
        font-size: 9px;
        padding: 4px 6px;
      }
    }

    @media (max-width: 480px) {
      .wrap {
        padding: 8px 10px;
      }
      
      .toolbar {
        flex-direction: column;
        align-items: stretch;
        gap: 6px;
      }
      
      .toolbar .spacer {
        display: none;
      }
      
      .toolbar-buttons {
        display: flex;
        gap: 6px;
        width: 100%;
        align-items: stretch;
      }
      
      .utility-buttons, .color-buttons {
        gap: 6px;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .toolbar button,
      .home-btn,
      .tools-btn,
      .similar-btn,
      #toggleTheme,
      #refreshAll {
        flex: none;
        text-align: center;
        min-width: calc(33.333% - 6px);
        font-size: 10px;
        padding: 5px 6px;
        min-height: 30px;
      }
      
      #langSelect.field {
        width: auto;
        margin-top: 0;
        max-width: 80px !important;
        font-size: 10px;
      }
      
      .popular-crypto-grid {
        grid-template-columns: 1fr 1fr;
      }
      
      .card h3 {
        font-size: 14px;
        padding: 8px 12px;
      }
      
      .card .content {
        padding: 8px 12px;
      }
      
      .info-box {
        padding: 10px;
      }
      
      .status {
        font-size: 12px;
      }
      
      .button-group {
        flex-direction: column;
      }
      
      .choices__inner {
        font-size: 10px;
        padding: 5px 8px;
        min-height: 34px;
      }
      
      .choices__list--dropdown .choices__item,
      .choices__list[aria-expanded] .choices__item {
        font-size: 10px;
        padding: 6px 8px;
      }
      
      .choices {
        max-width: 100% !important;
      }
      
      .choices__list--dropdown {
        max-width: 280px;
        left: 50% !important;
        transform: translateX(-50%);
      }
      
      .vpn-warning {
        padding: 8px 10px;
        font-size: 11px;
      }
      
      .notification {
        left: 10px;
        right: 10px;
        top: 10px;
        padding: 12px 14px;
        font-size: 12px;
        border-radius: 8px;
      }
      
      .notification .notification-title {
        font-size: 14px;
        margin-bottom: 8px;
      }
      
      .notification .notification-content {
        font-size: 12px;
      }
      
      .lang-buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 3px;
        width: 100%;
        margin-bottom: 8px;
      }
      
      .lang-btn {
        min-width: 0;
        padding: 2px 3px;
        font-size: 8px;
        height: 22px;
        width: 100%;
        margin: 0;
        flex: none;
        border-radius: 4px;
        max-width: 100%;
      }
      
      #toggleTheme, #refreshAll {
        min-width: 0;
        flex: 1;
        max-width: 48%;
        font-size: 9px;
        padding: 4px 5px;
      }
    }

    @media (max-width: 360px) {
      .popular-crypto-grid {
        grid-template-columns: 1fr;
      }
      
      .utility-buttons, .color-buttons {
        flex-wrap: wrap;
      }
      
      .toolbar button,
      .home-btn,
      .tools-btn,
      .similar-btn,
      #toggleTheme,
      #refreshAll {
        min-width: calc(50% - 3px);
        font-size: 9px;
        padding: 4px 5px;
      }
      
      #langSelect.field {
        font-size: 9px;
        max-width: 70px !important;
      }
      
      .choices__inner {
        font-size: 9px;
      }
      
      .choices__list--dropdown .choices__item,
      .choices__list[aria-expanded] .choices__item {
        font-size: 9px;
      }
      
      .notification {
        padding: 10px 12px;
        font-size: 11px;
      }
      
      .notification .notification-title {
        font-size: 13px;
      }
      
      .notification .notification-content {
        font-size: 11px;
      }
      
      .lang-btn {
        padding: 1px 2px;
        font-size: 7px;
        height: 20px;
      }
      
      #toggleTheme, #refreshAll {
        font-size: 8px;
        padding: 3px 4px;
      }
    }

    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--muted);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }

    .choices__list--dropdown {
      z-index: 100;
    }

    .info-box div {
      margin: 4px 0;
      word-break: break-word;
    }

    #pairPrice, #pairChange, #pairVolume, #pairTrades {
      font-size: 13px;
    }

    @media (max-width: 768px) {
      #pairPrice, #pairChange, #pairVolume, #pairTrades {
        font-size: 12px;
      }
    }
  </style>
</head>
<body data-theme="dark">
  <header>
    <div class="wrap toolbar">
      <div style="display: flex; align-items: center; gap: 8px;">
        <strong id="title">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§</strong>
        <span class="status" id="badge">ÙÙ‚Ø· Binance â€¢ Ù…Ù†Ø§Ø³Ø¨ GitHub Pages</span>
      </div>
      <div class="spacer"></div>
      <div class="toolbar-buttons">
        <div class="utility-buttons">
          <div class="lang-buttons">
            <button class="lang-btn active" data-lang="fa">ÙØ§Ø±Ø³ÛŒ</button>
            <button class="lang-btn" data-lang="en">English</button>
            <button class="lang-btn" data-lang="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
            <button class="lang-btn" data-lang="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
          </div>
          
          <button id="toggleTheme">ØªÙ…</button>
          <button id="refreshAll">Ø¨Ø±ÙˆØ²</button>
        </div>
        
        <div class="color-buttons">
          <a href="https://khoobeha.ir" target="_blank" class="home-btn" id="homeButton">
            ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§
          </a>
          <a href="https://khoobeha.ir" target="_blank" class="tools-btn" id="toolsButton">
            Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§
          </a>
          <a href="https://khoobeha.ir/similar-tools" target="_blank" class="similar-btn" id="similarButton">
            Ø§Ø¨Ø²Ø§Ø± Ù…Ø´Ø§Ø¨Ù‡
          </a>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="card" id="cryptoCard">
      <h3 id="cryptoTitle">Ú©Ø±ÛŒÙ¾ØªÙˆ Ø§Ø² Binance (24h)</h3>
      <div class="content">
        <div class="status" id="cryptoStatus">Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØªâ€¦</div>
        
        <div id="vpnWarning" class="vpn-warning" style="display: none;">
          <div id="vpnWarningText"></div>
        </div>

        <div class="grid-2" style="margin-top:8px;">
          <div class="info-box">
            <label id="quoteLabel" for="quoteSelect">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø±Ø² Ù…Ø¨Ù†Ø§ (Quote):</label>
            <select id="quoteSelect" class="field">
              <option value="USDT">USDT</option>
              <option value="BTC">BTC</option>
              <option value="ETH">ETH</option>
              <option value="BNB">BNB</option>
            </select>
          </div>
          <div class="info-box">
            <label id="pairLabel" for="pairSelect">Ø§Ù†ØªØ®Ø§Ø¨ Ø¬ÙØªâ€ŒØ§Ø±Ø²:</label>
            <select id="pairSelect" class="field"><option value="">â€” Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù… â€”</option></select>
            <div class="status" id="pairHint">USDT ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø¬ÙØªâ€ŒÙ‡Ø§</div>
          </div>
        </div>

        <div class="grid-2" style="margin-top:8px;">
          <div class="info-box">
            <strong id="pairName">â€”</strong>
            <div id="pairPrice">Ù‚ÛŒÙ…Øª: â€”</div>
            <div id="pairChange">ØªØºÛŒÛŒØ± 24h: â€”</div>
          </div>
          <div class="info-box">
            <div id="pairVolume">Ø­Ø¬Ù… 24h: â€”</div>
            <div id="pairTrades">ØªØ¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª: â€”</div>
            <div class="status" id="cryptoUpdated">â€”</div>
          </div>
        </div>

        <div style="margin-top: 16px;">
          <h4 id="popularTitle" style="margin: 12px 0 8px 0; font-size: 15px;">Ø§Ø±Ø²Ù‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ù…Ø­Ø¨ÙˆØ¨ (Ø¨Ø± Ø§Ø³Ø§Ø³ USDT)</h4>
          <div id="popularCryptoContainer" class="popular-crypto-grid"></div>
          <div class="status" id="popularUpdated">â€”</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h3 id="calcTitle">Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ ØªØ¨Ø¯ÛŒÙ„ Ø§Ø±Ø²</h3>
      <div class="content">
        <div class="grid-2">
          <div class="info-box">
            <div class="field-group">
              <label id="calcFromLabel" for="calcFrom">Ø§Ø²:</label>
              <select id="calcFrom" class="field">
                <option value="BTC">BTC (Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†)</option>
                <option value="ETH">ETH (Ø§ØªØ±ÛŒÙˆÙ…)</option>
                <option value="BNB">BNB (Ø¨Ø§ÛŒÙ†Ù†Ø³)</option>
                <option value="USDT">USDT</option>
                <option value="XRP">XRP</option>
                <option value="ADA">ADA</option>
                <option value="SOL">SOL</option>
                <option value="DOT">DOT</option>
              </select>
            </div>
            <div class="field-group">
              <label id="calcAmountLabel" for="calcAmount">Ù…Ù‚Ø¯Ø§Ø±:</label>
              <input type="number" id="calcAmount" class="input-field" placeholder="Ù…Ù‚Ø¯Ø§Ø±" min="0" step="0.00000001">
            </div>
          </div>
          <div class="info-box">
            <div class="field-group">
              <label id="calcToLabel" for="calcTo">Ø¨Ù‡:</label>
              <select id="calcTo" class="field">
                <option value="USDT">USDT</option>
                <option value="BTC">BTC (Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†)</option>
                <option value="ETH">ETH (Ø§ØªØ±ÛŒÙˆÙ…)</option>
                <option value="BNB">BNB (Ø¨Ø§ÛŒÙ†Ù†Ø³)</option>
                <option value="XRP">XRP</option>
                <option value="ADA">ADA</option>
                <option value="SOL">SOL</option>
                <option value="DOT">DOT</option>
              </select>
            </div>
            <div class="field-group">
              <label>&nbsp;</label>
              <button id="calcConvert" class="primary">ØªØ¨Ø¯ÛŒÙ„</button>
            </div>
          </div>
        </div>
        
        <div id="calcResult" class="calculator-result">
          <span id="calcResultLabel">Ù†ØªÛŒØ¬Ù‡:</span> â€”
        </div>
        <div class="status" style="margin-top: 8px;">
          <span id="calcInfo">ØªÙ…Ø§Ù… Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Binance Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯</span>
        </div>
      </div>
    </section>

    <section class="card">
      <h3 id="alertTitle">Ù‡Ø´Ø¯Ø§Ø± Ù‚ÛŒÙ…Øª</h3>
      <div class="content">
        <div class="grid-2">
          <div class="info-box">
            <div class="field-group">
              <label id="alertPairLabel" for="alertPair">Ø¬ÙØª Ø§Ø±Ø²:</label>
              <select id="alertPair" class="field"></select>
            </div>
          </div>
          <div class="info-box">
            <div class="field-group">
              <label id="alertPriceLabel" for="alertPrice">Ù‚ÛŒÙ…Øª Ù‡Ø¯Ù:</label>
              <input type="number" id="alertPrice" class="input-field" placeholder="Ù‚ÛŒÙ…Øª Ù‡Ø¯Ù" min="0" step="0.00000001">
            </div>
          </div>
        </div>
        
        <div class="info-box" style="margin-top: 10px;">
          <div class="field-group">
            <label id="alertConditionLabel" for="alertCondition">Ø´Ø±Ø·:</label>
            <select id="alertCondition" class="field">
              <option value="above">Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø²</option>
              <option value="below">Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ø²</option>
            </select>
          </div>
        </div>

        <div class="button-group">
          <button id="setAlert" class="primary">ØªÙ†Ø¸ÛŒÙ… Ù‡Ø´Ø¯Ø§Ø±</button>
          <button id="clearAlerts" class="danger">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡</button>
        </div>

        <div style="margin-top: 16px;">
          <h4 id="activeAlertsTitle" style="margin-bottom: 8px; font-size: 15px;">Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„</h4>
          <div id="alertsList" style="max-height: 250px; overflow-y: auto;">
            <div style="color: var(--muted); text-align: center; padding: 20px;">
              <span id="noAlertsText">Ù‡Ø´Ø¯Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</span>
            </div>
          </div>
          <div class="status" style="margin-top: 8px;">
            <div id="alertsInfo">Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</div>
            <div id="alertsPageRequirement">âš ï¸ <strong>ØªÙˆØ¬Ù‡:</strong> Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ØŒ ØµÙØ­Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø² Ø¨Ø§Ø´Ø¯.</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script>
    const state = { 
      quote: 'USDT', 
      binanceAll: [], 
      pairChoices: null, 
      quoteChoices: null, 
      alerts: JSON.parse(localStorage.getItem('cryptoAlerts')) || [],
      popularCryptos: ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'SOLUSDT', 'XRPUSDT', 'DOGEUSDT', 'ADAUSDT', 'DOTUSDT'],
      calcFromChoices: null,
      calcToChoices: null,
      alertPairChoices: null,
      alertConditionChoices: null,
      currentLang: localStorage.getItem('dashboardLang') || 'fa',
      connectionErrorCount: 0,
      maxConnectionErrors: 1
    };

    const translations = {
      fa: {
        pageTitle: "Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§",
        title: "Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø²Ù†Ø¯Ù‡ Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§",
        badge: "ÙÙ‚Ø· Binance â€¢ Ù…Ù†Ø§Ø³Ø¨ GitHub Pages",
        homeButton: "ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§",
        toolsButton: "Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§",
        similarButton: "Ø§Ø¨Ø²Ø§Ø± Ù…Ø´Ø§Ø¨Ù‡",
        toggleTheme: "ØªÙ… Ø±ÙˆØ´Ù†/ØªØ§Ø±ÛŒÚ©",
        refreshAll: "Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ",
        cryptoTitle: "Ú©Ø±ÛŒÙ¾ØªÙˆ Ø§Ø² Binance (24h)",
        cryptoStatus: "Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØªâ€¦",
        quoteLabel: "Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø±Ø² Ù…Ø¨Ù†Ø§ (Quote):",
        pairLabel: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¬ÙØªâ€ŒØ§Ø±Ø²:",
        pairHint: "USDT ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø¬ÙØªâ€ŒÙ‡Ø§",
        noneOption: "Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù…",
        priceLabel: "Ù‚ÛŒÙ…Øª:",
        changeLabel: "ØªØºÛŒÛŒØ± 24h:",
        volumeLabel: "Ø­Ø¬Ù… 24h:",
        tradesLabel: "ØªØ¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª:",
        updatedLabel: "Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:",
        popularTitle: "Ø§Ø±Ø²Ù‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ù…Ø­Ø¨ÙˆØ¨ (Ø¨Ø± Ø§Ø³Ø§Ø³ USDT)",
        highLabel: "Ø¨Ø§Ù„Ø§:",
        lowLabel: "Ù¾Ø§ÛŒÛŒÙ†:",
        calcTitle: "Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ ØªØ¨Ø¯ÛŒÙ„ Ø§Ø±Ø²",
        calcFromLabel: "Ø§Ø²:",
        calcToLabel: "Ø¨Ù‡:",
        calcAmountLabel: "Ù…Ù‚Ø¯Ø§Ø±:",
        calcAmountPlaceholder: "Ù…Ù‚Ø¯Ø§Ø±",
        calcConvert: "ØªØ¨Ø¯ÛŒÙ„",
        calcResultLabel: "Ù†ØªÛŒØ¬Ù‡:",
        calcInfo: "ØªÙ…Ø§Ù… Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Binance Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯",
        alertTitle: "Ù‡Ø´Ø¯Ø§Ø± Ù‚ÛŒÙ…Øª",
        alertPairLabel: "Ø¬ÙØª Ø§Ø±Ø²:",
        selectPairOption: "Ø§Ù†ØªØ®Ø§Ø¨ Ø¬ÙØª Ø§Ø±Ø²",
        alertPriceLabel: "Ù‚ÛŒÙ…Øª Ù‡Ø¯Ù:",
        alertPricePlaceholder: "Ù‚ÛŒÙ…Øª Ù‡Ø¯Ù",
        alertConditionLabel: "Ø´Ø±Ø·:",
        alertConditionAbove: "Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø²",
        alertConditionBelow: "Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ø²",
        setAlert: "ØªÙ†Ø¸ÛŒÙ… Ù‡Ø´Ø¯Ø§Ø±",
        clearAlerts: "Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡",
        activeAlertsTitle: "Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„",
        noAlertsText: "Ù‡Ø´Ø¯Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª",
        alertsInfo: "Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯",
        alertsPageRequirement: "âš ï¸ ØªÙˆØ¬Ù‡: Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ØŒ ØµÙØ­Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø² Ø¨Ø§Ø´Ø¯.",
        activeLabel: "ÙØ¹Ø§Ù„",
        inactiveLabel: "ØºÛŒØ±ÙØ¹Ø§Ù„",
        aboveLabel: "Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø²",
        belowLabel: "Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ø²",
        deleteLabel: "Ø­Ø°Ù",
        enableLabel: "ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù†",
        disableLabel: "ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù†",
        USDT: "USDT",
        BTC: "BTC (Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†)",
        ETH: "ETH (Ø§ØªØ±ÛŒÙˆÙ…)",
        BNB: "BNB (Ø¨Ø§ÛŒÙ†Ù†Ø³)",
        XRP: "XRP",
        ADA: "ADA",
        SOL: "SOL",
        DOT: "DOT",
        DOGE: "DOGE",
        langName_fa: "ÙØ§Ø±Ø³ÛŒ",
        langName_en: "Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ",
        langName_ar: "Ø¹Ø±Ø¨ÛŒ",
        langName_ru: "Ø±ÙˆØ³ÛŒ",
        errorConnection: "Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Binance",
        errorFetch: "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Binance",
        loading: "Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø² Binanceâ€¦",
        successAlertSet: "Ù‡Ø´Ø¯Ø§Ø± ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯",
        successAlertDeleted: "Ù‡Ø´Ø¯Ø§Ø± Ø­Ø°Ù Ø´Ø¯",
        successAlertsCleared: "Ù‡Ù…Ù‡ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯",
        successAlertToggled: "Ù‡Ø´Ø¯Ø§Ø± ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø¯Ø§Ø¯",
        errorAmount: "Ù„Ø·ÙØ§Ù‹ Ù…Ù‚Ø¯Ø§Ø± Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯",
        errorSameCurrency: "Ø§Ø±Ø² Ù…Ø¨Ø¯Ø§ Ùˆ Ù…Ù‚ØµØ¯ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ ÛŒÚ©Ø³Ø§Ù† Ø¨Ø§Ø´Ù†Ø¯",
        errorCalculation: "Ø®Ø·Ø§ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ù‡. Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³ØªÙ†Ø¯",
        errorAlertFields: "Ù„Ø·ÙØ§Ù‹ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù¾Ø± Ú©Ù†ÛŒØ¯",
        errorAlertExists: "Ø§ÛŒÙ† Ù‡Ø´Ø¯Ø§Ø± Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯",
        confirmClearAlerts: "Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ",
        themeDark: "ØªÙ… ØªØ§Ø±ÛŒÚ© ÙØ¹Ø§Ù„ Ø´Ø¯",
        themeLight: "ØªÙ… Ø±ÙˆØ´Ù† ÙØ¹Ø§Ù„ Ø´Ø¯",
        updating: "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Binance...",
        ready: "Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! ØªÙ…Ø§Ù… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Binance Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.",
        alertTriggered: "ğŸš¨ Ù‡Ø´Ø¯Ø§Ø± Ù‚ÛŒÙ…Øª ÙØ¹Ø§Ù„ Ø´Ø¯!",
        alertCurrentPrice: "Ù‚ÛŒÙ…Øª ÙØ¹Ù„ÛŒ:",
        alertTargetPrice: "Ù‚ÛŒÙ…Øª Ù‡Ø¯Ù:",
        alertCondition: "Ø´Ø±Ø·:",
        vpnWarningTitle: "âš ï¸ Ù…Ø´Ú©Ù„ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±",
        vpnWarningText: "Ø¯Ø±ØµÙˆØ±ØªÛŒÚ©Ù‡ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù„ÙˆØ¯ Ù†Ø´Ø¯ ØŒ Ø§Ø² ØªØ­Ø±ÛŒÙ… Ø´Ú©Ù† Ùˆ ÛŒØ§ vpn Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ØŒ Ø²ÛŒØ±Ø§ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù…Ù†Ø¨Ø¹ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ú©Ø´ÙˆØ± Ø´Ù…Ø§ Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ Ùˆ ÛŒØ§ ØªØ­Øª ØªØ­Ø±ÛŒÙ… Ø¨Ø§Ø´ÛŒØ¯",
        vpnSuggestion: "Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²Ø§Ø± Ø§Ø±Ø²ØŒ Ø§Ø² ÛŒÚ© Ø³Ø±ÙˆÛŒØ³ VPN Ù…Ø¹ØªØ¨Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…Ø§ÛŒÛŒØ¯. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ 'Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ' Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯."
      },
      en: {
        pageTitle: "Live Market Dashboard",
        title: "Live Market Dashboard",
        badge: "Only Binance â€¢ GitHub Pages Compatible",
        homeButton: "Contact Us",
        toolsButton: "Tools",
        similarButton: "Similar Tools",
        toggleTheme: "Theme",
        refreshAll: "Refresh",
        cryptoTitle: "Crypto from Binance (24h)",
        cryptoStatus: "Loadingâ€¦",
        quoteLabel: "Select Base Currency:",
        pairLabel: "Select Pair:",
        pairHint: "USDT recommended",
        noneOption: "None",
        priceLabel: "Price:",
        changeLabel: "24h Change:",
        volumeLabel: "24h Volume:",
        tradesLabel: "Trades:",
        updatedLabel: "Updated:",
        popularTitle: "Popular Crypto (USDT)",
        highLabel: "High:",
        lowLabel: "Low:",
        calcTitle: "Converter",
        calcFromLabel: "From:",
        calcToLabel: "To:",
        calcAmountLabel: "Amount:",
        calcAmountPlaceholder: "Amount",
        calcConvert: "Convert",
        calcResultLabel: "Result:",
        calcInfo: "Uses real-time Binance prices",
        alertTitle: "Price Alert",
        alertPairLabel: "Pair:",
        selectPairOption: "Select pair",
        alertPriceLabel: "Target:",
        alertPricePlaceholder: "Target price",
        alertConditionLabel: "Condition:",
        alertConditionAbove: "Above",
        alertConditionBelow: "Below",
        setAlert: "Set Alert",
        clearAlerts: "Clear All",
        activeAlertsTitle: "Active Alerts",
        noAlertsText: "No alerts",
        alertsInfo: "Stored in browser",
        alertsPageRequirement: "âš ï¸ Note: Page must be open to receive alerts.",
        activeLabel: "Active",
        inactiveLabel: "Inactive",
        aboveLabel: "Above",
        belowLabel: "Below",
        deleteLabel: "Delete",
        enableLabel: "Enable",
        disableLabel: "Disable",
        USDT: "USDT",
        BTC: "BTC",
        ETH: "ETH",
        BNB: "BNB",
        XRP: "XRP",
        ADA: "ADA",
        SOL: "SOL",
        DOT: "DOT",
        DOGE: "DOGE",
        langName_fa: "Persian",
        langName_en: "English",
        langName_ar: "Arabic",
        langName_ru: "Russian",
        errorConnection: "Connection error",
        errorFetch: "Error fetching data",
        loading: "Loadingâ€¦",
        successAlertSet: "Alert set",
        successAlertDeleted: "Alert deleted",
        successAlertsCleared: "Alerts cleared",
        successAlertToggled: "Status changed",
        errorAmount: "Enter valid amount",
        errorSameCurrency: "Same currency",
        errorCalculation: "Calculation error",
        errorAlertFields: "Fill all fields",
        errorAlertExists: "Alert exists",
        confirmClearAlerts: "Clear all alerts?",
        themeDark: "Dark theme",
        themeLight: "Light theme",
        updating: "Updating...",
        ready: "Dashboard ready!",
        alertTriggered: "ğŸš¨ Price Alert Triggered!",
        alertCurrentPrice: "Current Price:",
        alertTargetPrice: "Target Price:",
        alertCondition: "Condition:",
        vpnWarningTitle: "âš ï¸ Connection Issue",
        vpnWarningText: "If options are not loading correctly, please use a VPN or anti-filter service. The data source (Binance) might be blocked or under sanctions in your country.",
        vpnSuggestion: "Suggestion: Use a reliable VPN service to access cryptocurrency market data. You can also try again by clicking the 'Refresh' button."
      },
      ar: {
        pageTitle: "Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø³ÙˆØ§Ù‚",
        title: "Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø³ÙˆØ§Ù‚",
        badge: "Binance ÙÙ‚Ø· â€¢ GitHub Ù…Ù†Ø§Ø³Ø¨",
        homeButton: "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        toolsButton: "Ø§Ù„Ø£Ø¯ÙˆØ§Øª",
        similarButton: "Ø£Ø¯ÙˆØ§Øª Ù…Ø´Ø§Ø¨Ù‡Ø©",
        toggleTheme: "Ø§Ù„Ù…Ø¸Ù‡Ø±",
        refreshAll: "ØªØ­Ø¯ÙŠØ«",
        cryptoTitle: "Ø§Ù„Ø¹Ù…Ù„Ø§Øª (24h)",
        cryptoStatus: "Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦",
        quoteLabel: "Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³:",
        pairLabel: "Ø§Ø®ØªØ± Ø²ÙˆØ¬:",
        pairHint: "USDT Ù…ÙˆØµÙ‰ Ø¨Ù‡",
        noneOption: "Ù„Ø§ Ø´ÙŠØ¡",
        priceLabel: "Ø§Ù„Ø³Ø¹Ø±:",
        changeLabel: "ØªØºÙŠÙŠØ± 24h:",
        volumeLabel: "Ø­Ø¬Ù… 24h:",
        tradesLabel: "Ø§Ù„ØµÙÙ‚Ø§Øª:",
        updatedLabel: "Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:",
        popularTitle: "Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
        highLabel: "Ø¹Ø§Ù„ÙŠ:",
        lowLabel: "Ù…Ù†Ø®ÙØ¶:",
        calcTitle: "Ø§Ù„Ù…Ø­ÙˆÙ„",
        calcFromLabel: "Ù…Ù†:",
        calcToLabel: "Ø¥Ù„Ù‰:",
        calcAmountLabel: "Ø§Ù„Ù…Ø¨Ù„Øº:",
        calcAmountPlaceholder: "Ø§Ù„Ù…Ø¨Ù„Øº",
        calcConvert: "ØªØ­ÙˆÙŠÙ„",
        calcResultLabel: "Ø§Ù„Ù†ØªÙŠØ¬Ø©:",
        calcInfo: "Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Binance",
        alertTitle: "ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø³Ø¹Ø±",
        alertPairLabel: "Ø§Ù„Ø²ÙˆØ¬:",
        selectPairOption: "Ø§Ø®ØªØ± Ø²ÙˆØ¬",
        alertPriceLabel: "Ø§Ù„Ù‡Ø¯Ù:",
        alertPricePlaceholder: "Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù",
        alertConditionLabel: "Ø§Ù„Ø´Ø±Ø·:",
        alertConditionAbove: "Ø£Ø¹Ù„Ù‰",
        alertConditionBelow: "Ø£Ù‚Ù„",
        setAlert: "ØªØ¹ÙŠÙŠÙ†",
        clearAlerts: "Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„",
        activeAlertsTitle: "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª",
        noAlertsText: "Ù„Ø§ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª",
        alertsInfo: "ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­",
        alertsPageRequirement: "âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ØµÙØ­Ø© Ù…ÙØªÙˆØ­Ø© Ù„ØªÙ„Ù‚ÙŠ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª.",
        activeLabel: "Ù†Ø´Ø·",
        inactiveLabel: "ØºÙŠØ± Ù†Ø´Ø·",
        aboveLabel: "Ø£Ø¹Ù„Ù‰",
        belowLabel: "Ø£Ù‚Ù„",
        deleteLabel: "Ø­Ø°Ù",
        enableLabel: "ØªÙØ¹ÙŠÙ„",
        disableLabel: "ØªØ¹Ø·ÙŠÙ„",
        USDT: "USDT",
        BTC: "BTC",
        ETH: "ETH",
        BNB: "BNB",
        XRP: "XRP",
        ADA: "ADA",
        SOL: "SOL",
        DOT: "DOT",
        DOGE: "DOGE",
        langName_fa: "ÙØ§Ø±Ø³ÙŠ",
        langName_en: "Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ",
        langName_ar: "Ø¹Ø±Ø¨ÙŠ",
        langName_ru: "Ø±ÙˆØ³ÙŠ",
        errorConnection: "Ø®Ø·Ø£ Ø§ØªØµØ§Ù„",
        errorFetch: "Ø®Ø·Ø£ Ø¬Ù„Ø¨",
        loading: "Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦",
        successAlertSet: "ØªÙ… Ø§Ù„ØªØ¹ÙŠÙŠÙ†",
        successAlertDeleted: "ØªÙ… Ø§Ù„Ø­Ø°Ù",
        successAlertsCleared: "ØªÙ… Ø§Ù„Ù…Ø³Ø­",
        successAlertToggled: "ØªÙ… Ø§Ù„ØªØºÙŠÙŠØ±",
        errorAmount: "Ø£Ø¯Ø®Ù„ Ù…Ø¨Ù„ØºØ§Ù‹",
        errorSameCurrency: "Ù†ÙØ³ Ø§Ù„Ø¹Ù…Ù„Ø©",
        errorCalculation: "Ø®Ø·Ø£ Ø­Ø³Ø§Ø¨",
        errorAlertFields: "Ø§Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„",
        errorAlertExists: "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù…ÙˆØ¬ÙˆØ¯",
        confirmClearAlerts: "Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„ØŸ",
        themeDark: "Ø¯Ø§ÙƒÙ†",
        themeLight: "ÙØ§ØªØ­",
        updating: "Ø¬Ø§Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«...",
        ready: "Ø§Ù„Ù„ÙˆØ­Ø© Ø¬Ø§Ù‡Ø²Ø©!",
        alertTriggered: "ğŸš¨ ØªÙ… ØªØ´ØºÙŠÙ„ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø³Ø¹Ø±!",
        alertCurrentPrice: "Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ:",
        alertTargetPrice: "Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù:",
        alertCondition: "Ø§Ù„Ø´Ø±Ø·:",
        vpnWarningTitle: "âš ï¸ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„",
        vpnWarningText: "Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… VPN Ø£Ùˆ Ø®Ø¯Ù…Ø© Ù…Ø¶Ø§Ø¯ Ø§Ù„Ø­Ø¬Ø¨. Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…ØµØ¯Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Binance) Ù…Ø­Ø¬ÙˆØ¨Ù‹Ø§ Ø£Ùˆ ØªØ­Øª Ø¹Ù‚ÙˆØ¨Ø§Øª ÙÙŠ Ø¨Ù„Ø¯Ùƒ.",
        vpnSuggestion: "Ø§Ù‚ØªØ±Ø§Ø­: Ø§Ø³ØªØ®Ø¯Ù… Ø®Ø¯Ù…Ø© VPN Ù…ÙˆØ«ÙˆÙ‚Ø© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± 'ØªØ­Ø¯ÙŠØ«'."
      },
      ru: {
        pageTitle: "ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ñ€Ñ‹Ğ½ĞºĞ¾Ğ²",
        title: "ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ñ€Ñ‹Ğ½ĞºĞ¾Ğ²",
        badge: "Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Binance â€¢ Ğ”Ğ»Ñ GitHub",
        homeButton: "ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹",
        toolsButton: "Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹",
        similarButton: "ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹",
        toggleTheme: "Ğ¢ĞµĞ¼Ğ°",
        refreshAll: "ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ",
        cryptoTitle: "ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ° (24Ñ‡)",
        cryptoStatus: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°â€¦",
        quoteLabel: "Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ²Ğ°Ğ»ÑÑ‚Ğ°:",
        pairLabel: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ñƒ:",
        pairHint: "USDT Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ",
        noneOption: "ĞĞµÑ‚",
        priceLabel: "Ğ¦ĞµĞ½Ğ°:",
        changeLabel: "Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ 24Ñ‡:",
        volumeLabel: "ĞĞ±ÑŠĞµĞ¼ 24Ñ‡:",
        tradesLabel: "Ğ¡Ğ´ĞµĞ»ĞºĞ¸:",
        updatedLabel: "ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾:",
        popularTitle: "ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹",
        highLabel: "Ğ’ĞµÑ€Ñ…:",
        lowLabel: "ĞĞ¸Ğ·:",
        calcTitle: "ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€",
        calcFromLabel: "Ğ˜Ğ·:",
        calcToLabel: "Ğ’:",
        calcAmountLabel: "Ğ¡ÑƒĞ¼Ğ¼Ğ°:",
        calcAmountPlaceholder: "Ğ¡ÑƒĞ¼Ğ¼Ğ°",
        calcConvert: "ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ",
        calcResultLabel: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:",
        calcInfo: "Ğ¦ĞµĞ½Ñ‹ Binance",
        alertTitle: "ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğµ",
        alertPairLabel: "ĞŸĞ°Ñ€Ğ°:",
        selectPairOption: "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ñƒ",
        alertPriceLabel: "Ğ¦ĞµĞ»ÑŒ:",
        alertPricePlaceholder: "Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ñ†ĞµĞ½Ğ°",
        alertConditionLabel: "Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ:",
        alertConditionAbove: "Ğ’Ñ‹ÑˆĞµ",
        alertConditionBelow: "ĞĞ¸Ğ¶Ğµ",
        setAlert: "Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ",
        clearAlerts: "ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ",
        activeAlertsTitle: "ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ",
        noAlertsText: "ĞĞµÑ‚ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğ¹",
        alertsInfo: "Ğ’ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ",
        alertsPageRequirement: "âš ï¸ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğ¹.",
        activeLabel: "ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾",
        inactiveLabel: "ĞĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾",
        aboveLabel: "Ğ’Ñ‹ÑˆĞµ",
        belowLabel: "ĞĞ¸Ğ¶Ğµ",
        deleteLabel: "Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ",
        enableLabel: "Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ",
        disableLabel: "Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ",
        USDT: "USDT",
        BTC: "BTC",
        ETH: "ETH",
        BNB: "BNB",
        XRP: "XRP",
        ADA: "ADA",
        SOL: "SOL",
        DOT: "DOT",
        DOGE: "DOGE",
        langName_fa: "ĞŸĞµÑ€ÑĞ¸Ğ´ÑĞºĞ¸Ğ¹",
        langName_en: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹",
        langName_ar: "ĞÑ€Ğ°Ğ±ÑĞºĞ¸Ğ¹",
        langName_ru: "Ğ ÑƒÑÑĞºĞ¸Ğ¹",
        errorConnection: "ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ²ÑĞ·Ğ¸",
        errorFetch: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…",
        loading: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°â€¦",
        successAlertSet: "Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾",
        successAlertDeleted: "Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¾",
        successAlertsCleared: "ĞÑ‡Ğ¸Ñ‰ĞµĞ½Ğ¾",
        successAlertToggled: "Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½",
        errorAmount: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑÑƒĞ¼Ğ¼Ñƒ",
        errorSameCurrency: "ĞĞ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ğµ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹",
        errorCalculation: "ĞÑˆĞ¸Ğ±ĞºĞ° Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ°",
        errorAlertFields: "Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ»Ñ",
        errorAlertExists: "ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğµ ĞµÑÑ‚ÑŒ",
        confirmClearAlerts: "ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ?",
        themeDark: "Ğ¢ĞµĞ¼Ğ½Ğ°Ñ",
        themeLight: "Ğ¡Ğ²ĞµÑ‚Ğ»Ğ°Ñ",
        updating: "ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ...",
        ready: "ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°!",
        alertTriggered: "ğŸš¨ ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğµ ÑÑ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ»Ğ¾!",
        alertCurrentPrice: "Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ñ†ĞµĞ½Ğ°:",
        alertTargetPrice: "Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ñ†ĞµĞ½Ğ°:",
        alertCondition: "Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ:",
        vpnWarningTitle: "âš ï¸ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ñ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸ĞµĞ¼",
        vpnWarningText: "Ğ•ÑĞ»Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ VPN Ğ¸Ğ»Ğ¸ Ğ°Ğ½Ñ‚Ğ¸Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€. Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Binance) Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ¿Ğ¾Ğ´ ÑĞ°Ğ½ĞºÑ†Ğ¸ÑĞ¼Ğ¸ Ğ² Ğ²Ğ°ÑˆĞµĞ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğµ.",
        vpnSuggestion: "Ğ¡Ğ¾Ğ²ĞµÑ‚: Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ½Ğ°Ğ´ĞµĞ¶Ğ½Ñ‹Ğ¹ VPN-ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ñ€Ñ‹Ğ½ĞºĞ° ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²Ğ°Ğ»ÑÑ‚. Ğ’Ñ‹ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞµÑ‰Ğµ Ñ€Ğ°Ğ·, Ğ½Ğ°Ğ¶Ğ°Ğ² ĞºĞ½Ğ¾Ğ¿ĞºÑƒ 'ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ'."
      }
    };

    function iconUrl(base){ 
      return `https://cryptoicon-api.vercel.app/api/icon/${base.toLowerCase()}`; 
    }

    function formatNum(n, opts, lang = state.currentLang){ 
      try{ 
        const localeMap = {
          'fa': 'fa-IR',
          'ar': 'ar-SA',
          'ru': 'ru-RU',
          'en': 'en-US'
        };
        return Number(n).toLocaleString(localeMap[lang] || 'en-US', opts || {});
      } catch{ 
        return n; 
      } 
    }

    function showNotification(message, type = 'info') {
      const t = translations[state.currentLang];
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      
      // Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø§Ø®ØªØ§Ø± HTML Ø¨Ø±Ø§ÛŒ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†
      const notificationContent = `
        <div class="notification-title">
          ${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸'}
          ${getNotificationTitle(type, t)}
        </div>
        <div class="notification-content">
          ${message}
        </div>
      `;
      
      notification.innerHTML = notificationContent;
      
      document.body.appendChild(notification);
      
      // Ø­Ø°Ù Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ù¾Ø³ Ø§Ø² 10 Ø«Ø§Ù†ÛŒÙ‡ (10000 Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡)
      setTimeout(() => {
        notification.style.animation = 'fadeOut 0.5s ease forwards';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 500);
      }, 10000);
    }

    function getNotificationTitle(type, t) {
      switch(type) {
        case 'success':
          return t.successAlertSet || 'Ù…ÙˆÙÙ‚ÛŒØª';
        case 'error':
          return t.errorConnection || 'Ø®Ø·Ø§';
        case 'warning':
          return t.vpnWarningTitle || 'Ù‡Ø´Ø¯Ø§Ø±';
        default:
          return t.updating || 'Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡';
      }
    }

    function showVpnWarning(show = true) {
      const vpnWarning = document.getElementById('vpnWarning');
      const vpnWarningText = document.getElementById('vpnWarningText');
      const t = translations[state.currentLang];
      
      if (show) {
        const fullMessage = `
          <div style="margin-bottom: 10px;">
            <strong style="font-size: 14px;">${t.vpnWarningTitle}</strong>
          </div>
          <div style="margin-bottom: 10px;">
            ${t.vpnWarningText}
          </div>
          <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
            <strong>ğŸ“¢ Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…:</strong><br>
            ${t.vpnSuggestion}
          </div>
        `;
        vpnWarningText.innerHTML = fullMessage;
        vpnWarning.style.display = 'block';
        
        const notificationMessage = `${t.vpnWarningTitle} - ${t.vpnWarningText} ${t.vpnSuggestion}`;
        showNotification(notificationMessage, 'warning');
      } else {
        vpnWarning.style.display = 'none';
      }
    }

    function updateLanguage() {
      const lang = state.currentLang;
      const t = translations[lang];
      
      document.documentElement.lang = lang;
      document.documentElement.dir = (lang === 'fa' || lang === 'ar') ? 'rtl' : 'ltr';
      document.body.lang = lang;
      document.body.dir = (lang === 'fa' || lang === 'ar') ? 'rtl' : 'ltr';
      document.title = t.pageTitle;
      
      const elements = {
        'title': t.title,
        'badge': t.badge,
        'homeButton': t.homeButton,
        'toolsButton': t.toolsButton,
        'similarButton': t.similarButton,
        'toggleTheme': t.toggleTheme,
        'refreshAll': t.refreshAll,
        'cryptoTitle': t.cryptoTitle,
        'cryptoStatus': t.cryptoStatus,
        'quoteLabel': t.quoteLabel,
        'pairLabel': t.pairLabel,
        'pairHint': t.pairHint,
        'popularTitle': t.popularTitle,
        'calcTitle': t.calcTitle,
        'calcFromLabel': t.calcFromLabel,
        'calcToLabel': t.calcToLabel,
        'calcAmountLabel': t.calcAmountLabel,
        'calcConvert': t.calcConvert,
        'calcResultLabel': t.calcResultLabel,
        'calcInfo': t.calcInfo,
        'alertTitle': t.alertTitle,
        'alertPairLabel': t.alertPairLabel,
        'alertPriceLabel': t.alertPriceLabel,
        'alertConditionLabel': t.alertConditionLabel,
        'setAlert': t.setAlert,
        'clearAlerts': t.clearAlerts,
        'activeAlertsTitle': t.activeAlertsTitle,
        'noAlertsText': t.noAlertsText,
        'alertsInfo': t.alertsInfo,
        'alertsPageRequirement': t.alertsPageRequirement
      };
      
      Object.keys(elements).forEach(id => {
        const element = document.getElementById(id);
        if (element) element.textContent = elements[id];
      });
      
      document.getElementById('calcAmount').placeholder = t.calcAmountPlaceholder;
      document.getElementById('alertPrice').placeholder = t.alertPricePlaceholder;
      
      updateLangButtons();
      updateQuoteSelectOptions();
      updateCalculatorSelectOptions();
      updateAlertConditionOptions();
      updateAlertsList();
      updateDynamicTexts();
      updatePopularCryptos();
      
      if (state.binanceAll.length > 0) {
        populatePairs();
        updateAlertPairs();
      }
      
      localStorage.setItem('dashboardLang', lang);
      
      const vpnWarning = document.getElementById('vpnWarning');
      if (vpnWarning.style.display === 'block') {
        showVpnWarning(true);
      }
    }

    function updateLangButtons() {
      const langButtons = document.querySelectorAll('.lang-btn');
      langButtons.forEach(btn => {
        const lang = btn.getAttribute('data-lang');
        if (lang === state.currentLang) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
    }

    function updateQuoteSelectOptions() {
      const quoteSelect = document.getElementById('quoteSelect');
      const t = translations[state.currentLang];
      
      const options = [
        { value: 'USDT', label: t.USDT },
        { value: 'BTC', label: t.BTC },
        { value: 'ETH', label: t.ETH },
        { value: 'BNB', label: t.BNB }
      ];
      
      const currentValue = quoteSelect.value;
      quoteSelect.innerHTML = '';
      options.forEach(option => {
        const optElement = document.createElement('option');
        optElement.value = option.value;
        optElement.textContent = option.label;
        if (option.value === currentValue || (!currentValue && option.value === 'USDT')) {
          optElement.selected = true;
        }
        quoteSelect.appendChild(optElement);
      });
      
      if (state.quoteChoices) state.quoteChoices.destroy();
      state.quoteChoices = new Choices(quoteSelect, {
        searchEnabled: false,
        itemSelectText: '',
        shouldSort: false,
        position: 'bottom'
      });
    }

    function updateCalculatorSelectOptions() {
      const t = translations[state.currentLang];
      
      const calcFrom = document.getElementById('calcFrom');
      const fromOptions = [
        { value: 'BTC', label: t.BTC },
        { value: 'ETH', label: t.ETH },
        { value: 'BNB', label: t.BNB },
        { value: 'USDT', label: t.USDT },
        { value: 'XRP', label: t.XRP },
        { value: 'ADA', label: t.ADA },
        { value: 'SOL', label: t.SOL },
        { value: 'DOT', label: t.DOT }
      ];
      
      const currentFromValue = calcFrom.value || 'BTC';
      calcFrom.innerHTML = '';
      fromOptions.forEach(option => {
        const optElement = document.createElement('option');
        optElement.value = option.value;
        optElement.textContent = option.label;
        if (option.value === currentFromValue) optElement.selected = true;
        calcFrom.appendChild(optElement);
      });
      
      if (state.calcFromChoices) state.calcFromChoices.destroy();
      state.calcFromChoices = new Choices(calcFrom, {
        searchEnabled: false,
        itemSelectText: '',
        shouldSort: false,
        position: 'bottom'
      });
      
      const calcTo = document.getElementById('calcTo');
      const toOptions = [
        { value: 'USDT', label: t.USDT },
        { value: 'BTC', label: t.BTC },
        { value: 'ETH', label: t.ETH },
        { value: 'BNB', label: t.BNB },
        { value: 'XRP', label: t.XRP },
        { value: 'ADA', label: t.ADA },
        { value: 'SOL', label: t.SOL },
        { value: 'DOT', label: t.DOT }
      ];
      
      const currentToValue = calcTo.value || 'USDT';
      calcTo.innerHTML = '';
      toOptions.forEach(option => {
        const optElement = document.createElement('option');
        optElement.value = option.value;
        optElement.textContent = option.label;
        if (option.value === currentToValue) optElement.selected = true;
        calcTo.appendChild(optElement);
      });
      
      if (state.calcToChoices) state.calcToChoices.destroy();
      state.calcToChoices = new Choices(calcTo, {
        searchEnabled: false,
        itemSelectText: '',
        shouldSort: false,
        position: 'bottom'
      });
    }

    function updateAlertConditionOptions() {
      const alertCondition = document.getElementById('alertCondition');
      const t = translations[state.currentLang];
      
      const currentValue = alertCondition.value || 'above';
      alertCondition.innerHTML = '';
      
      const aboveOption = document.createElement('option');
      aboveOption.value = 'above';
      aboveOption.textContent = t.alertConditionAbove;
      if (currentValue === 'above') aboveOption.selected = true;
      alertCondition.appendChild(aboveOption);
      
      const belowOption = document.createElement('option');
      belowOption.value = 'below';
      belowOption.textContent = t.alertConditionBelow;
      if (currentValue === 'below') belowOption.selected = true;
      alertCondition.appendChild(belowOption);
      
      if (state.alertConditionChoices) state.alertConditionChoices.destroy();
      state.alertConditionChoices = new Choices(alertCondition, {
        searchEnabled: false,
        itemSelectText: '',
        shouldSort: false,
        position: 'bottom'
      });
    }

    function updateDynamicTexts() {
      const t = translations[state.currentLang];
      
      const pairPrice = document.getElementById('pairPrice').textContent;
      if (pairPrice.includes(':')) {
        const priceValue = pairPrice.split(':')[1] || '';
        document.getElementById('pairPrice').textContent = `${t.priceLabel} ${priceValue.trim()}`;
      }
      
      const pairChange = document.getElementById('pairChange').textContent;
      if (pairChange.includes(':')) {
        const changeValue = pairChange.split(':')[1] || '';
        document.getElementById('pairChange').textContent = `${t.changeLabel} ${changeValue.trim()}`;
      }
      
      const pairVolume = document.getElementById('pairVolume').textContent;
      if (pairVolume.includes(':')) {
        const volumeValue = pairVolume.split(':')[1] || '';
        document.getElementById('pairVolume').textContent = `${t.volumeLabel} ${volumeValue.trim()}`;
      }
      
      const pairTrades = document.getElementById('pairTrades').textContent;
      if (pairTrades.includes(':')) {
        const tradesValue = pairTrades.split(':')[1] || '';
        document.getElementById('pairTrades').textContent = `${t.tradesLabel} ${tradesValue.trim()}`;
      }
    }

    async function loadBinance() {
      const t = translations[state.currentLang];
      document.getElementById('cryptoStatus').textContent = t.loading;
      
      showVpnWarning(false);
      
      try {
        const res = await fetch('https://api.binance.com/api/v3/ticker/24hr', {
          cache: 'no-store'
        });
        
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        
        state.binanceAll = await res.json();
        populatePairs();
        updatePopularCryptos();
        checkAlerts();
        const now = new Date().toLocaleTimeString(state.currentLang === 'fa' ? 'fa-IR' : 'en-US');
        document.getElementById('cryptoUpdated').textContent = `${t.updatedLabel} ${now}`;
        document.getElementById('popularUpdated').textContent = `${t.updatedLabel} ${now}`;
        document.getElementById('cryptoStatus').textContent = '';
        
        state.connectionErrorCount = 0;
        
      } catch (error) {
        state.connectionErrorCount++;
        document.getElementById('cryptoStatus').textContent = t.errorConnection;
        
        showVpnWarning(true);
      }
    }

    function populatePairs() {
      const select = document.getElementById('pairSelect');
      const quote = state.quote;
      const t = translations[state.currentLang];
      const pairs = state.binanceAll.filter(d => d.symbol.endsWith(quote));

      select.innerHTML = `<option value="">â€” ${t.noneOption} â€”</option>` + 
                         pairs.map(p => {
        const base = p.symbol.slice(0, p.symbol.length - quote.length);
        return `<option value="${p.symbol}" data-custom-properties="${iconUrl(base)}">${base}/${quote}</option>`;
      }).join('');

      if (state.pairChoices) state.pairChoices.destroy();
      state.pairChoices = new Choices(select, {
        searchEnabled: true,
        itemSelectText: '',
        shouldSort: true,
        position: 'bottom',
        callbackOnCreateTemplates: function(template) {
          return {
            option: (classNames, data) => {
              const icon = data.customProperties ? `<img src="${data.customProperties}" alt="" onerror="this.style.display='none'">` : '';
              return template(`<div class="${classNames.item} ${classNames.itemSelectable} choice-with-icon" data-id="${data.id}" data-value="${data.value}">${icon}<span class="label">${data.label}</span></div>`);
            },
            item: (classNames, data) => {
              const icon = data.customProperties ? `<img src="${data.customProperties}" alt="" onerror="this.style.display='none'">` : '';
              return template(`<div class="${classNames.item} ${classNames.itemChoice} selected-with-icon" data-item data-id="${data.id}" data-value="${data.value}">${icon}<span class="label">${data.label}</span></div>`);
            }
          };
        }
      });

      select.addEventListener('change', e => renderPairInfo(e.target.value, pairs));
      select.value = '';
      select.dispatchEvent(new Event('change'));
      
      updateAlertPairs();
    }

    function renderPairInfo(symbol, pairs) {
      const t = translations[state.currentLang];
      const nameEl = document.getElementById('pairName');
      const priceEl = document.getElementById('pairPrice');
      const changeEl = document.getElementById('pairChange');
      const volEl = document.getElementById('pairVolume');
      const tradesEl = document.getElementById('pairTrades');

      if (!symbol) {
        nameEl.innerHTML = '<span class="coin-name">â€”</span>';
        priceEl.textContent = `${t.priceLabel} â€”`;
        changeEl.textContent = `${t.changeLabel} â€”`;
        volEl.textContent = `${t.volumeLabel} â€”`;
        tradesEl.textContent = `${t.tradesLabel} â€”`;
        return;
      }
      
      const info = pairs.find(p => p.symbol === symbol);
      if (!info) return;

      const base = symbol.slice(0, symbol.length - state.quote.length);
      const priceUSD = Number(info.lastPrice);
      const chgNum = Number(info.priceChangePercent);
      const volNum = Number(info.quoteVolume);
      const tradesNum = Number(info.count || 0);

      nameEl.innerHTML = `<span class="coin-name">${base}/${state.quote}</span>`;
      priceEl.textContent = `${t.priceLabel} $${formatNum(priceUSD, {maximumFractionDigits: 8})}`;
      changeEl.innerHTML = `${t.changeLabel} <span class="${chgNum >= 0 ? 'delta-up' : 'delta-down'}">` +
        `${chgNum >= 0 ? '+' : ''}${formatNum(chgNum, {maximumFractionDigits: 2})}%</span>`;
      volEl.textContent = `${t.volumeLabel} $${formatNum(volNum)}`;
      tradesEl.textContent = `${t.tradesLabel} ${formatNum(tradesNum)}`;
    }

    function updatePopularCryptos() {
      const container = document.getElementById('popularCryptoContainer');
      const t = translations[state.currentLang];
      
      if (!state.binanceAll.length) {
        container.innerHTML = `<div style="grid-column: 1/-1; text-align: center; color: var(--muted);">${t.loading}</div>`;
        return;
      }

      let html = '';
      for (const symbol of state.popularCryptos) {
        const pairInfo = state.binanceAll.find(p => p.symbol === symbol);
        if (pairInfo) {
          const price = Number(pairInfo.lastPrice);
          const change = Number(pairInfo.priceChangePercent);
          const base = symbol.replace('USDT', '');
          const high24h = Number(pairInfo.highPrice);
          const low24h = Number(pairInfo.lowPrice);
          
          html += `
            <div class="popular-crypto-item">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                <div style="display: flex; align-items: center; gap: 8px; overflow: hidden;">
                  <img src="${iconUrl(base)}" alt="${base}" style="width: 24px; height: 24px; border-radius: 50%; flex-shrink: 0;" onerror="this.style.display='none'">
                  <strong style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${base}</strong>
                </div>
                <span class="${change >= 0 ? 'delta-up' : 'delta-down'}" style="flex-shrink: 0;">
                  ${change >= 0 ? '+' : ''}${formatNum(change, {maximumFractionDigits: 2})}%
                </span>
              </div>
              <div style="font-size: 16px; margin: 6px 0; font-weight: bold; text-align: center; direction: ltr;">
                $${formatNum(price, {maximumFractionDigits: price > 1000 ? 2 : price > 100 ? 3 : 4})}
              </div>
              <div style="font-size: 11px; color: var(--muted); display: flex; justify-content: space-between;">
                <span style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                  ${t.highLabel} $${formatNum(high24h, {maximumFractionDigits: 2})}
                </span>
                <span style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-right: 4px;">
                  ${t.lowLabel} $${formatNum(low24h, {maximumFractionDigits: 2})}
                </span>
              </div>
            </div>
          `;
        }
      }
      
      container.innerHTML = html;
    }

    function initQuoteChoices() {
      const select = document.getElementById('quoteSelect');
      if (state.quoteChoices) state.quoteChoices.destroy();
      state.quoteChoices = new Choices(select, {
        searchEnabled: false,
        itemSelectText: '',
        shouldSort: false,
        position: 'bottom'
      });
      
      select.addEventListener('change', () => {
        state.quote = select.value;
        populatePairs();
      });
    }

    function getPriceFromBinance(symbol) {
      if (!state.binanceAll.length) return null;
      const pair = state.binanceAll.find(p => p.symbol === symbol);
      return pair ? Number(pair.lastPrice) : null;
    }

    function initCalculator() {
      document.getElementById('calcConvert').addEventListener('click', () => {
        const t = translations[state.currentLang];
        const from = document.getElementById('calcFrom').value;
        const to = document.getElementById('calcTo').value;
        const amount = parseFloat(document.getElementById('calcAmount').value);
        
        if (!amount || amount <= 0) {
          showNotification(t.errorAmount, 'error');
          return;
        }
        
        if (from === to) {
          showNotification(t.errorSameCurrency, 'error');
          return;
        }
        
        const result = calculateConversionUsingBinance(from, to, amount);
        if (result === null) {
          showNotification(t.errorCalculation, 'error');
          return;
        }
        
        document.getElementById('calcResult').innerHTML = `
          <span id="calcResultLabel">${t.calcResultLabel}</span>
          ${formatNum(amount, {maximumFractionDigits: 8})} ${from} = 
          <strong>${formatNum(result, {maximumFractionDigits: 8})} ${to}</strong>
        `;
      });
    }

    function calculateConversionUsingBinance(from, to, amount) {
      if (!state.binanceAll.length) return null;
      
      if (from === to) return amount;
      
      const fromPrice = getPriceFromBinance(from + 'USDT');
      const toPrice = getPriceFromBinance(to + 'USDT');
      
      if (fromPrice && toPrice) {
        const inUsdt = amount * fromPrice;
        return inUsdt / toPrice;
      }
      
      return null;
    }

    function initAlerts() {
      updateAlertPairs();
      updateAlertsList();
      
      document.getElementById('setAlert').addEventListener('click', () => {
        const t = translations[state.currentLang];
        const pair = document.getElementById('alertPair').value;
        const price = parseFloat(document.getElementById('alertPrice').value);
        const condition = document.getElementById('alertCondition').value;
        
        if (!pair || !price || price <= 0) {
          showNotification(t.errorAlertFields, 'error');
          return;
        }
        
        const existingAlert = state.alerts.find(a => 
          a.pair === pair && a.targetPrice === price && a.condition === condition && a.active
        );
        
        if (existingAlert) {
          showNotification(t.errorAlertExists, 'error');
          return;
        }
        
        const base = pair.replace('USDT', '');
        const newAlert = {
          id: Date.now(),
          pair,
          base,
          targetPrice: price,
          condition,
          active: true,
          createdAt: new Date().toLocaleString(state.currentLang === 'fa' ? 'fa-IR' : 
                                             state.currentLang === 'ar' ? 'ar-SA' : 
                                             state.currentLang === 'ru' ? 'ru-RU' : 'en-US'),
          triggered: false
        };
        
        state.alerts.push(newAlert);
        saveAlerts();
        updateAlertsList();
        showNotification(t.successAlertSet, 'success');
        
        document.getElementById('alertPrice').value = '';
      });
      
      document.getElementById('clearAlerts').addEventListener('click', () => {
        const t = translations[state.currentLang];
        if (state.alerts.length === 0) {
          showNotification(t.noAlertsText, 'info');
          return;
        }
        
        if (confirm(t.confirmClearAlerts)) {
          state.alerts = [];
          saveAlerts();
          updateAlertsList();
          showNotification(t.successAlertsCleared, 'success');
        }
      });
      
      // Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø¬ÙˆØ² Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†
      if ('Notification' in window && Notification.permission === 'default') {
        setTimeout(() => {
          Notification.requestPermission();
        }, 2000);
      }
    }

    function updateAlertPairs() {
      if (!state.binanceAll.length) return;
      
      const select = document.getElementById('alertPair');
      const t = translations[state.currentLang];
      const pairs = state.binanceAll
        .filter(p => p.symbol.endsWith('USDT'))
        .slice(0, 50);
      
      const currentValue = select.value || '';
      select.innerHTML = `<option value="">${t.selectPairOption}</option>` + 
                        pairs.map(p => {
        const base = p.symbol.replace('USDT', '');
        const currentPrice = Number(p.lastPrice);
        const optionText = `${base}/USDT ($${formatNum(currentPrice, {maximumFractionDigits: currentPrice > 1000 ? 2 : 4})})`;
        const isSelected = p.symbol === currentValue;
        return `<option value="${p.symbol}" ${isSelected ? 'selected' : ''}>${optionText}</option>`;
      }).join('');
      
      if (state.alertPairChoices) state.alertPairChoices.destroy();
      state.alertPairChoices = new Choices(select, {
        searchEnabled: true,
        itemSelectText: '',
        shouldSort: true,
        position: 'bottom'
      });
    }

    function updateAlertsList() {
      const t = translations[state.currentLang];
      const container = document.getElementById('alertsList');
      
      if (state.alerts.length === 0) {
        container.innerHTML = `<div style="color: var(--muted); text-align: center; padding: 20px;">${t.noAlertsText}</div>`;
        return;
      }
      
      container.innerHTML = state.alerts.map(alert => `
        <div class="alert-item ${alert.triggered ? 'triggered' : ''}">
          <div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 0;">
              <strong style="display: block; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${alert.base}/USDT</strong>
              <div>${t.alertPriceLabel} $${formatNum(alert.targetPrice)}</div>
              <div>${t.alertConditionLabel} ${alert.condition === 'above' ? t.aboveLabel : t.belowLabel}</div>
              <div style="font-size: 11px; color: var(--muted); margin-top: 4px;">
                ${alert.createdAt}
              </div>
            </div>
            <div style="color: ${alert.active ? 'var(--up)' : 'var(--muted)'}; font-size: 12px; white-space: nowrap; margin-right: 8px;">
              ${alert.active ? t.activeLabel : t.inactiveLabel}
            </div>
          </div>
          <div class="alert-actions">
            <button onclick="toggleAlert(${alert.id})" style="background: none; border: none; color: var(--accent); cursor: pointer; font-size: 12px; padding: 6px; border-radius: 4px; background: var(--bg);">
              ${alert.active ? t.disableLabel : t.enableLabel}
            </button>
            <button onclick="removeAlert(${alert.id})" style="background: none; border: none; color: var(--down); cursor: pointer; font-size: 12px; padding: 6px; border-radius: 4px; background: var(--bg);">
              ${t.deleteLabel}
            </button>
          </div>
        </div>
      `).join('');
    }

    function toggleAlert(id) {
      const t = translations[state.currentLang];
      const alert = state.alerts.find(a => a.id === id);
      if (alert) {
        alert.active = !alert.active;
        saveAlerts();
        updateAlertsList();
        showNotification(t.successAlertToggled, 'info');
      }
    }

    function removeAlert(id) {
      const t = translations[state.currentLang];
      state.alerts = state.alerts.filter(a => a.id !== id);
      saveAlerts();
      updateAlertsList();
      showNotification(t.successAlertDeleted, 'success');
    }

    function checkAlerts() {
      if (!state.binanceAll.length || state.alerts.length === 0) return;
      
      let triggeredAlerts = [];
      
      state.alerts.forEach(alert => {
        if (!alert.active || alert.triggered) return;
        
        const currentData = state.binanceAll.find(p => p.symbol === alert.pair);
        if (!currentData) return;
        
        const currentPrice = Number(currentData.lastPrice);
        const triggered = alert.condition === 'above' 
          ? currentPrice >= alert.targetPrice
          : currentPrice <= alert.targetPrice;
        
        if (triggered) {
          alert.triggered = true;
          alert.triggeredAt = new Date().toLocaleString(state.currentLang === 'fa' ? 'fa-IR' : 
                                                       state.currentLang === 'ar' ? 'ar-SA' : 
                                                       state.currentLang === 'ru' ? 'ru-RU' : 'en-US');
          alert.triggeredPrice = currentPrice;
          triggeredAlerts.push(alert);
          
          // Ù¾Ø®Ø´ ØµØ¯Ø§ÛŒ Ù‡Ø´Ø¯Ø§Ø±
          try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 1);
          } catch (e) {
            console.log("ØµØ¯Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯");
          }
        }
      });
      
      triggeredAlerts.forEach(alert => {
        const t = translations[state.currentLang];
        
        // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ù…Ø±ÙˆØ±Ú¯Ø± (Ø§Ú¯Ø± Ù…Ø¬ÙˆØ² Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
        if (Notification.permission === 'granted') {
          new Notification(`${t.alertTitle} ${alert.base}`, {
            body: `${t.alertCurrentPrice} $${formatNum(alert.triggeredPrice)}!`,
            icon: iconUrl(alert.base)
          });
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ø¨Ø²Ø±Ú¯ Ùˆ ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø´Ø¯Ø§Ø± Ù‚ÛŒÙ…Øª - 10 Ø«Ø§Ù†ÛŒÙ‡
        const alertMessage = `
          <div style="font-size: 18px; font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
            <span style="font-size: 22px;">ğŸš¨</span>
            ${t.alertTriggered}
          </div>
          <div style="background: rgba(255,255,255,0.15); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
            <div style="margin-bottom: 8px;">
              <strong style="font-size: 16px;">${alert.base}/USDT</strong>
            </div>
            <div style="margin-bottom: 6px; display: flex; justify-content: space-between;">
              <span>${t.alertCurrentPrice}</span>
              <strong style="color: #ffcc00; font-size: 16px;">$${formatNum(alert.triggeredPrice)}</strong>
            </div>
            <div style="margin-bottom: 6px; display: flex; justify-content: space-between;">
              <span>${t.alertTargetPrice}</span>
              <strong>$${formatNum(alert.targetPrice)}</strong>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span>${t.alertCondition}:</span>
              <strong>${alert.condition === 'above' ? t.aboveLabel : t.belowLabel}</strong>
            </div>
          </div>
          <div style="font-size: 12px; opacity: 0.9; text-align: center; margin-top: 5px;">
            ${new Date().toLocaleTimeString(state.currentLang === 'fa' ? 'fa-IR' : 'en-US')}
          </div>
        `;
        
        showNotification(alertMessage, 'success');
      });
      
      if (triggeredAlerts.length > 0) {
        saveAlerts();
        updateAlertsList();
      }
    }

    function saveAlerts() {
      localStorage.setItem('cryptoAlerts', JSON.stringify(state.alerts));
    }

    function initLanguageSelector() {
      const langButtons = document.querySelectorAll('.lang-btn');
      
      langButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const lang = btn.getAttribute('data-lang');
          state.currentLang = lang;
          updateLanguage();
        });
      });
      
      updateLanguage();
    }

    document.getElementById('toggleTheme').addEventListener('click', () => {
      const body = document.body;
      const newTheme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', newTheme);
      const t = translations[state.currentLang];
      showNotification(newTheme === 'dark' ? t.themeDark : t.themeLight, 'info');
    });
    
    document.getElementById('refreshAll').addEventListener('click', () => {
      const t = translations[state.currentLang];
      loadBinance();
      showNotification(t.updating, 'info');
    });

    document.addEventListener('DOMContentLoaded', async () => {
      initLanguageSelector();
      initQuoteChoices();
      initCalculator();
      initAlerts();
      
      await loadBinance();
      
      // Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡
      setInterval(checkAlerts, 30000);
      // Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ø± 1 Ø¯Ù‚ÛŒÙ‚Ù‡
      setInterval(loadBinance, 60000);
    });

    window.toggleAlert = toggleAlert;
    window.removeAlert = removeAlert;
  </script>
</body>
  </html>
